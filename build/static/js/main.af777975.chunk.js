(this["webpackJsonpeisenvault-lite-reactjs"]=this["webpackJsonpeisenvault-lite-reactjs"]||[]).push([[0],{101:function(e,t,a){},137:function(e,t,a){},157:function(e,t,a){e.exports=a(302)},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},185:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},209:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(148),o=a.n(l),i=(a(41),a(6)),r=a(1),s=a(7),u=a(3),m=a.n(u),d=(a(178),function(e){return e.children}),E=(a(179),function(e){return e.show?c.a.createElement("div",{className:"Backdrop",onClick:e.click}):null}),p=function(e){return c.a.createElement(d,null,c.a.createElement(E,{show:e.show}),c.a.createElement("div",{className:"Modal",style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))},f=(a(180),function(e){return c.a.createElement(n.Fragment,null,c.a.createElement("h2",{className:"Dh2"},"Delete Documents"),c.a.createElement("p",{className:"content Dh3"},"Are you sure you want to delete selected files?",c.a.createElement("br",null),c.a.createElement("br",null)," NOTE:The deleted file will be stored in trash for 30 days."),c.a.createElement("button",{className:"btn-cancel btn-c",onClick:e.clicked},"CANCEL"),c.a.createElement("button",{className:"btn-continue btn-d",onClick:e.deleted},"DELETE"))}),h=function(e){return c.a.createElement(n.Fragment,null,c.a.createElement("h2",{className:"Dh2"},"Restore Documents"),c.a.createElement("p",{className:"content Dh3"},"Are you sure you want to Restore selected files?"),c.a.createElement("button",{className:"btn-cancel btn-c",onClick:e.clicked},"CANCEL"),c.a.createElement("button",{className:"btn-continue btn-d",onClick:e.deleted},"RESTORE"))},b=function(e){return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"modal-header"},c.a.createElement("h2",null,"Forgot Password")),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h3",null,"You will recieve an email link to reset password."),c.a.createElement("div",{className:"label-input"},c.a.createElement("label",null,"Username:"),c.a.createElement("input",Object.assign({type:"text"},e.forgotPswdUserName))))),c.a.createElement("div",{id:"btns"},c.a.createElement("button",{className:"btn-continue-p",onClick:e.resetPassword},"Email"),c.a.createElement("button",{onClick:e.clicked,className:"btn-cancel-p"},"Cancel")))},g=function(e){return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"modal-header"},c.a.createElement("h2",null,"Delete Department")),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h3",null,"Please select the department you want to delete"),c.a.createElement("div",{className:"label-input"},c.a.createElement("label",null,"Departments:"),c.a.createElement("input",{type:"text",name:"name"})),c.a.createElement("br",null),c.a.createElement("div",{className:"label-input"},c.a.createElement("label",null,"URL:"),c.a.createElement("input",{type:"text",name:"url"})),c.a.createElement("br",null),c.a.createElement("div",{className:"label-input"},c.a.createElement("label",null,"Description:"),c.a.createElement("textarea",{row:"8",col:"60"})),c.a.createElement("div",{className:"label-input"},c.a.createElement("input",{type:"checkbox"}),c.a.createElement("label",null,"Please confirm whether you want to delete the department and all its contents.")))),c.a.createElement("div",{id:"btns"},c.a.createElement("button",{className:"btn-continue"},"Delete Department"),c.a.createElement("button",{className:"btn-continue",onClick:e.deleteDept},"Delete"),c.a.createElement("button",{onClick:e.clicked,className:"btn-cancel"},"Cancel")))},v=function(){return localStorage.getItem("userId")},y=function(){return localStorage.getItem("url")},O=function(){return localStorage.getItem("id")};a(181);m.a.defaults.baseURL=localStorage.getItem("url");m.a.create({baseURL:y()});var N=function(e){var t=Object(n.useState)(e),a=Object(r.a)(t,2),c=a[0],l=a[1];return{value:c,onChange:function(e){l(e.target.value)}}},j=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(!1),s=Object(r.a)(i,2),u=(s[0],s[1]),d=Object(n.useState)(null),E=Object(r.a)(d,2),f=E[0],h=E[1],g=Object(n.useState)(!1),v=Object(r.a)(g,2),O=v[0],j=v[1],k=Object(n.useState)(null),S=Object(r.a)(k,2),C=S[0],A=S[1],I=N(""),w=N(""),B=N(""),T=N("");return l?c.a.createElement("div",null,c.a.createElement("i",{className:"fa fa-spinner fa-spin"})," Loading..."):c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"bg-bar"},c.a.createElement("div",{className:"login-box"},c.a.createElement("div",{className:"login-details"},c.a.createElement("input",Object.assign({type:"text"},T,{id:"url",placeholder:"URL",required:!0})),c.a.createElement("br",null),c.a.createElement("input",Object.assign({type:"text"},I,{id:"user-name",placeholder:"User Name",required:!0})),c.a.createElement("br",null),c.a.createElement("input",Object.assign({type:"password"},w,{placeholder:"Password",id:"pswd",required:!0}))),c.a.createElement("div",{id:"btns_new"},f&&c.a.createElement(c.a.Fragment,null,c.a.createElement("small",{style:{color:"red"}},f),c.a.createElement("br",null)),c.a.createElement("br",null),c.a.createElement("button",{id:"btn_login",type:"button",value:l?"Loading...":"Login",onClick:function(){!function(e){localStorage.setItem("url",e)}(T.value),h(null),o(!0),m.a.post(y()+"/alfresco/api/-default-/public/authentication/versions/1/tickets",{userId:I.value,password:w.value}).then((function(t){var a,n;o(!1),a=t.data.entry.id,n=t.data.entry.userId,localStorage.setItem("id",a),localStorage.setItem("userId",n),e.history.push("/dashboard")})).catch((function(e){o(!1),401===e.response.status?h(e.response.data.message):h("Your authentication details have not been recognized or EisenVault may not be available at this time.")}))},disabled:l},"Login"),c.a.createElement("br",null),c.a.createElement(p,{show:O},c.a.createElement(b,{resetPassword:function(){A(null),u(!0),m.a.post(y()+"/share/proxy/alfresco-noauth/com/flex-solution/reset-password",{userName:B.value}).then((function(e){u(!1),j(!1),console.log("Email Sent"),console.log(e)})).catch((function(e){401===e.response.status?A(e.response.data.message):A("The user name doesn't exist.")}))},clicked:function(){return j(!1)},forgotPswdUserName:B}),C&&c.a.createElement(c.a.Fragment,null,c.a.createElement("small",{style:{color:"red"}},C),c.a.createElement("br",null))),c.a.createElement("button",{id:"btn_forgotPassword",type:"button",onClick:function(){return j(!0)}},"Forgot Password?")))))},k=a(5);function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=["Bytes","KB","MB","GB","TB"];if(0===e)return"n/a";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return 0===n?"".concat(e).concat(t).concat(a[n]):"".concat((e/Math.pow(1024,n)).toFixed(1)).concat(t).concat(a[n])}var C=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!0),i=Object(r.a)(o,2),s=i[0],u=i[1];Object(n.useEffect)((function(){m.a.get(y()+"/alfresco/s/aws-reposize",{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data),l(e.data),u(!1)})).catch((function(e){console.error(e)}))}),[]);var d=S(a.storeFreeSpace," "),E=S(a.storageSpaceConsumed," ");return c.a.createElement("div",null,s?c.a.createElement("h5",null," Free Space: ","Calculating.."," "):c.a.createElement("h5",null," Free Space: ",d),s?c.a.createElement("h5",null," Used Space: ","Calculating.."," "):c.a.createElement("h5",null," Used Space: ",E," "))},A=a(4);a(185);var I=function(){var e=Object(s.f)(),t=Object(n.useState)(!1),a=Object(r.a)(t,2),l=(a[0],a[1]),o=Object(n.useState)(null),u=Object(r.a)(o,2),d=(u[0],u[1]),E=v();return c.a.createElement("div",null,c.a.createElement("section",{className:"SideNav"},c.a.createElement("div",{id:"sidebar"},c.a.createElement("ul",{className:"sidemenu"},c.a.createElement("div",{id:"dashboard"},c.a.createElement(i.b,{to:"/dashboard"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.i}),c.a.createElement("p",null,"DASHBOARD")))),c.a.createElement("div",{id:"middle_bar"},c.a.createElement(i.b,{to:"/documentsList"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.c}),c.a.createElement("p",null," \xa0DEPARTMENTS"))),c.a.createElement(i.b,{to:"/myUploads"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.f}),c.a.createElement("p",null,"MY UPLOADS"))),c.a.createElement(i.b,{to:"/manageShares"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.k}),c.a.createElement("p",null,"\xa0MANAGE SHARES")))),c.a.createElement("div",{id:"lower_bar"},c.a.createElement("li",null,c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.eisenvault.com/portal/home"},c.a.createElement(k.a,{className:"Icon",icon:A.h}),c.a.createElement("p",null,"SUPPORT"))),c.a.createElement("li",null,c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://systest.eisenvault.net/share/page/"},c.a.createElement(k.a,{className:"Icon",icon:A.c}),c.a.createElement("p",null,"\xa0FULL VERSION")))),c.a.createElement("div",{id:"trash"},c.a.createElement(i.b,{to:"/trashDisplay"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.n}),c.a.createElement("p",null,"TRASH"))),c.a.createElement(i.b,{to:"/changePassword"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.j}),c.a.createElement("p",null,"CHANGE PASSWORD"))),c.a.createElement("li",null,c.a.createElement(k.a,{className:"Icon",icon:A.l}),c.a.createElement("input",{type:"button",className:"signOut",onClick:function(){m.a.delete(y()+"alfresco/api/-default-/public/authentication/versions/1/tickets/-me-",{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(t){l(!1),e.push("/")})).catch((function(e){401===e.response.status?d(e.response.data.message):d("Your authentication details have not been recognized or EisenVault may not be available at this time.")}),[])},value:"LOGOUT"})),"admin"===E&&c.a.createElement(C,null))))),"  ")},w=(a(101),a(188),function(e){var t=Object(s.f)(),a=Object(n.useState)(!1),l=Object(r.a)(a,2),o=(l[0],l[1]),u=Object(n.useState)(null),E=Object(r.a)(u,2),p=(E[0],E[1]),f="Side-drawer";e.show&&(f="Side-drawer open");var h=v();return c.a.createElement(d,null,c.a.createElement("nav",{role:"navigation"},c.a.createElement("ul",{className:f,onClick:e.click},c.a.createElement("div",{id:"dashboard"},c.a.createElement(i.b,{to:"/dashboard"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.i}),c.a.createElement("p",null,"DASHBOARD")))),c.a.createElement("div",{id:"middle_bar"},c.a.createElement(i.b,{to:"/documentsList"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.c}),c.a.createElement("p",null," \xa0DEPARTMENTS"))),c.a.createElement(i.b,{to:"/myUploads"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.f}),c.a.createElement("p",null,"MY UPLOADS"))),c.a.createElement(i.b,{to:"/manageShares"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.k}),c.a.createElement("p",null,"\xa0MANAGE SHARES")))),c.a.createElement("div",{id:"lower_bar"},c.a.createElement("li",null,c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.eisenvault.com/portal/home"},c.a.createElement(k.a,{className:"Icon",icon:A.h}),c.a.createElement("p",null,"SUPPORT"))),c.a.createElement("li",null,c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://systest.eisenvault.net/share/page/"},c.a.createElement(k.a,{className:"Icon",icon:A.c}),c.a.createElement("p",null,"\xa0FULL VERSION")))),c.a.createElement("div",{id:"trash"},c.a.createElement(i.b,{to:"/trashDisplay"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.n}),c.a.createElement("p",null,"TRASH"))),c.a.createElement(i.b,{to:"/changePassword"},c.a.createElement("li",null," ",c.a.createElement(k.a,{className:"Icon",icon:A.j}),c.a.createElement("p",null,"CHANGE PASSWORD"))),c.a.createElement("li",null,c.a.createElement(k.a,{className:"Icon",icon:A.l}),c.a.createElement("input",{type:"button",className:"signOut",onClick:function(){m.a.delete(y()+"/alfresco/api/-default-/public/authentication/versions/1/tickets/-me-",{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){o(!1),t.push("/")})).catch((function(e){401===e.response.status?p(e.response.data.message):p("Your authentication details have not been recognized or EisenVault may not be available at this time.")}),[])},value:"LOGOUT"})),"admin"===h&&c.a.createElement(C,null)))))}),B=function(e){return c.a.createElement("button",{className:"toggle-button",onClick:e.drawertoggleHandler},c.a.createElement("div",{className:"toggle-button__line"}),c.a.createElement("div",{className:"toggle-button__line"}),c.a.createElement("div",{className:"toggle-button__line"}))},T=(a(189),function(){return c.a.createElement("footer",{className:"base-footer"},c.a.createElement("p",{className:"footerSection"},"Copyright \xa9 2020",c.a.createElement("a",{href:"https://eisenvault.com/"},"Argali Knowledge Services Pvt. Ltd., New Delhi, India")))}),D=(a(190),a(150)),F=a.n(D),M=(a(209),function(){var e=Object(s.f)(),t=Object(n.useState)([]),a=Object(r.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)([]),u=Object(r.a)(i,2),d=(u[0],u[1]),E=Object(n.useState)(""),p=Object(r.a)(E,2),f=p[0],h=p[1],b=Object(n.useState)(!1),g=Object(r.a)(b,2),v=g[0],N=g[1];return c.a.createElement("div",{className:"searchBox-container"},c.a.createElement("input",{className:"searchBox",type:"text",placeholder:"Type here to search ...",value:f,onChange:function(e){h(e.target.value),0!==f.length?function(){try{m.a.get(y()+"/alfresco/s/slingshot/live-search-docs?t=".concat(f,"&limit=5"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log("received"),console.log(e.data),o(e.data.items),d(e.data.items),N(!0)}))}catch(e){throw h(""),o([]),N(!1),new Error(e)}}():0===f.length&&(o([]),N(!1))},onKeyUp:function(t){"Enter"===t.key&&e.push("/search/".concat(f))}}),v?c.a.createElement(F.a,{onOutsideClick:function(e){N(!1)}},c.a.createElement("div",{className:"menu-container"},l.map((function(t,a){return c.a.createElement("ul",{key:a},c.a.createElement("li",{onClick:function(){return a=t.nodeRef.substring(24),n=t.name,void e.push("/document-details/".concat(a,"/").concat(n));var a,n},className:"search-item"},t.name))})))):null)}),_=a(154),x=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){l(v()?v().charAt(0):"")}),[]),c.a.createElement(_.a,{className:"avtarStyle",color:"#E07050",size:"3rem",round:!0,maxInitials:2,name:a,title:v()})},z=(a(243),function(e){return c.a.createElement("nav",null,c.a.createElement("ul",{className:"pagination"},c.a.createElement("button",{onClick:e.handlePrev,id:"myprevBtn"},"Prev"),c.a.createElement("button",{onClick:e.handleNext,id:"myBtn"},"Next")))});var R=function(e){var t=Object(s.f)(),a=Object(n.useState)(!1),l=Object(r.a)(a,2),o=l[0],i=l[1],u=Object(n.useState)([]),d=Object(r.a)(u,2),E=d[0],h=d[1];Object(n.useEffect)((function(){R()}),[]);var b=Object(n.useState)(1),g=Object(r.a)(b,2),N=g[0],j=(g[1],Object(n.useState)(10)),S=Object(r.a)(j,1)[0],C=Object(n.useState)(""),I=Object(r.a)(C,2),w=I[0],B=I[1],T=Object(n.useState)(""),D=Object(r.a)(T,2),F=D[0],_=D[1],R=function(){m.a.post(y()+"/alfresco/api/-default-/public/search/versions/1/search",{query:{query:"cm:creator:".concat(v())},paging:{maxItems:"10",skipCount:"0"}},{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){var t=e.data;console.log(t),B(e.data.list.pagination.hasMoreItems),_(e.data.list.pagination.skipCount+10),h(t.list.entries.map((function(e){return{select:!1,id:e.entry.id,name:e.entry.name,uploadedOn:e.entry.createdAt.split("T")[0],type:e.entry.isFile}})))})).catch((function(e){return alert(e)}))},P=N*S,L=P-S,U=E.slice(L,P),H=function(){E.forEach((function(e){e.select&&m.a.delete(y()+"/alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(e.id),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e),i(!1),R()})).catch((function(e){return alert(e)}))}))};return c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"second_section"},c.a.createElement("div",{className:"title"},c.a.createElement(x,null),c.a.createElement("h2",null,"My Uploads")),c.a.createElement("div",{className:"search-profile"},c.a.createElement(M,null)),c.a.createElement("div",{className:"filesUpload"},c.a.createElement("table",{id:"doc_list"},c.a.createElement("tbody",null,c.a.createElement("tr",{id:"icons"},c.a.createElement("th",{id:"icon01"},c.a.createElement("input",{type:"checkbox",onChange:function(e){var t=e.target.checked;h(U.map((function(e){return e.select=t,e})))}})),c.a.createElement("th",{id:"item-name"},"Item Name"),c.a.createElement("th",{id:"shared"},"Uploaded On"),c.a.createElement("th",{id:"action"},c.a.createElement("label",null,"Action "),c.a.createElement("select",{id:"action-t",onChange:function(){i(!0)}},c.a.createElement("option",{id:"option",value:"delete-a"},"Delete All"),c.a.createElement("option",{id:"option",value:"delete-s"},"Delete Selected"))),c.a.createElement(p,{show:o},c.a.createElement(f,{deleted:function(){H()},clicked:function(){return i(!1)}}))),E.map((function(e){return c.a.createElement("tr",{key:e.id,id:"first_details"},c.a.createElement("td",{className:"file_icon1"},c.a.createElement("input",{onChange:function(t){var a=t.target.checked;h(E.map((function(t){return e.id===t.id&&(t.select=a),t})))},type:"checkbox",checked:e.select})),c.a.createElement("td",{className:"file_name-u",onClick:function(){return a=e.id,n=e.name,void t.push("/document-details/".concat(a,"/").concat(n));var a,n}},c.a.createElement(k.a,{className:"pdf-file fas fa-file-pdf",icon:e.type?A.b:A.e}),e.name),c.a.createElement("td",{className:"details-u"},e.uploadedOn),c.a.createElement("td",{className:"delete-u"},c.a.createElement(k.a,{className:"fas fa-times-circle",icon:A.m,onClick:function(t){var a;window.confirm("Are you sure you wish to delete ".concat(e.name))&&(a=e.id,e.name,m.a.delete(y()+"/alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(a),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e),R()})).catch((function(e){return alert(e)})))}})))})))))),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(z,{handlePrev:function(){document.getElementById("myBtn").disabled=!1,m.a.post(y()+"/alfresco/api/-default-/public/search/versions/1/search",{query:{query:"cm:creator:".concat(v())},paging:{maxItems:"10",skipCount:"".concat(F)}},{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){h(e.data.list.entries.map((function(e){return{select:!1,id:e.entry.id,name:e.entry.name,uploadedOn:e.entry.createdAt.split("T")[0],type:e.entry.isFile}}))),B(e.data.list.pagination.hasMoreItems),e.data.list.pagination.skipCount>0?(_(e.data.list.pagination.skipCount-10),document.getElementById("myprevBtn").disabled=!1):document.getElementById("myprevBtn").disabled=!0,console.log(e.data.list.entries),console.log(e.data.list.pagination),console.log(e.data.list.pagination.skipCount)}))},handleNext:function(){document.getElementById("myprevBtn").disabled=!1,m.a.post(y()+"/alfresco/api/-default-/public/search/versions/1/search",{query:{query:"cm:creator:".concat(v())},paging:{maxItems:"10",skipCount:"".concat(F)}},{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){h(e.data.list.entries.map((function(e){return{select:!1,id:e.entry.id,name:e.entry.name,uploadedOn:e.entry.createdAt.split("T")[0],type:e.entry.isFile}}))),B(e.data.list.pagination.hasMoreItems),e.data.list.pagination.hasMoreItems?(_(e.data.list.pagination.skipCount+10),document.getElementById("myBtn").disabled=!1):document.getElementById("myBtn").disabled=!0,console.log(e.data.list.entries),console.log(e.data.list.pagination.skipCount)}))},hasMoreItems:w,skipCount:F})))},P=(a(244),function(){var e=v(),t=Object(s.f)(),a=(Object(s.g)().id,Object(n.useState)([])),l=Object(r.a)(a,2),o=l[0],i=l[1],u=Object(n.useState)(""),d=Object(r.a)(u,2),E=d[0],p=d[1],f=Object(n.useState)(""),h=Object(r.a)(f,2),b=h[0],g=h[1];return Object(n.useEffect)((function(){m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/people/".concat(e,"/activities?skipCount=0&who=me&maxItems=10"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){i(e.data.list.entries),p(e.data.list.pagination.hasMoreItems),g(e.data.list.pagination.skipCount+10),console.log(e.data.list.entries),console.log(e.data.list.pagination)}))}),[]),c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"second_section"},c.a.createElement("div",{className:"title"},c.a.createElement("h2",null,"Dashboard"),c.a.createElement(x,null)),c.a.createElement("div",{className:"search-profile"},c.a.createElement(M,null)),c.a.createElement("div",{className:"filesDetail"},c.a.createElement("h3",null,"My Recent Activities"),c.a.createElement("table",{className:"documentsList"},o.map((function(e){return c.a.createElement("tbody",{key:e.entry.id},c.a.createElement("tr",null,c.a.createElement("td",{className:"fileName"},c.a.createElement(k.a,{icon:A.b}),c.a.createElement("h4",null,e.entry.activitySummary.title),c.a.createElement("p",{className:"text"}," ","in "," "),c.a.createElement("h4",null,e.entry.siteId)),c.a.createElement("td",{className:"fileDetails"},e.entry.postedAt.split("T")[0]," "),c.a.createElement("td",{className:"fileActivity"},e.entry.activityType.split(".")[3]),c.a.createElement("td",{className:"view",onClick:function(){return function(e,a){t.push("/document-details/".concat(e,"/").concat(a))}(e.entry.activitySummary.objectId,e.entry.activitySummary.title)}},c.a.createElement(k.a,{icon:A.a}))))}))))),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(z,{handlePrev:function(){m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/people/".concat(e,"/activities?skipCount=").concat(b,"&who=me&maxItems=10"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){i(e.data.list.entries),p(e.data.list.pagination.hasMoreItems),e.data.list.pagination.skipCount>0?g(e.data.list.pagination.skipCount-10):g(e.data.list.pagination.skipCount+10),console.log(e.data.list.entries),console.log(e.data.list.pagination),console.log(e.data.list.pagination.skipCount)}))},handleNext:function(){console.log(b),m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/people/".concat(e,"/activities?skipCount=").concat(b,"&who=me&maxItems=10"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){i(e.data.list.entries),p(e.data.list.pagination.hasMoreItems),p(e.data.list.pagination.hasMoreItems),e.data.list.pagination.hasMoreItems?g(e.data.list.pagination.skipCount+10):g(e.data.list.pagination.skipCount-10),console.log(e.data.list.entries),console.log(e.data.list.pagination.skipCount)}))},hasMoreItems:E,skipCount:b})))}),L=(a(245),a(19)),U=a.n(L),H=function(e){var t=Object(n.useState)(e),a=Object(r.a)(t,2),c=a[0],l=a[1];return{value:c,onChange:function(e){l(e.target.value)}}},V=function(){var e,t=v(),a=Object(n.useState)(!1),l=Object(r.a)(a,2),o=(l[0],l[1],Object(n.useState)(!1)),i=Object(r.a)(o,2),u=i[0],d=i[1],E=Object(n.useState)([]),f=Object(r.a)(E,2),h=(f[0],f[1]),b=Object(s.f)(),N=Object(n.useState)([]),j=Object(r.a)(N,2),S=j[0],C=j[1],I=Object(n.useState)([]),w=Object(r.a)(I,2),B=(w[0],w[1]),T=Object(n.useState)(1),D=Object(r.a)(T,2),F=D[0],_=(D[1],Object(n.useState)(10)),R=Object(r.a)(_,1)[0],P=(H(""),Object(n.useState)("")),L=Object(r.a)(P,2),V=L[0],Y=L[1],q=Object(n.useState)(0),G=Object(r.a)(q,2),W=G[0],K=G[1],J=F*R,Q=J-R,X=S.slice(Q,J);e="admin"===t?"/sites?":"/sites?where=(visibility='PRIVATE')&",Object(n.useEffect)((function(){Z()}),[e]);var Z=function(){m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/".concat(e,"maxItems=10&skipCount=0"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data),C(e.data.list.entries),h(e.data.list.pagination),Y(e.data.list.pagination.hasMoreItems),K(e.data.list.pagination.skipCount+10),console.log(e.data.list.pagination)}))};return c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"second_section"},c.a.createElement("div",{className:"title"},c.a.createElement("h2",null,"My Departments"),c.a.createElement(x,{className:"profile_picture"})),c.a.createElement("div",{className:"search-profile"},c.a.createElement(M,null)),c.a.createElement("div",{className:"files"},c.a.createElement("table",{id:"doc_list"},c.a.createElement("tbody",null,X.map((function(e){return c.a.createElement("tr",{className:"details"},c.a.createElement("td",{className:"fileicon"},c.a.createElement(k.a,{icon:A.g,className:"fas"}),e.entry.title),c.a.createElement("td",{className:"fileDetails",onClick:function(){return t=e.entry.guid,void m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(t,"/children"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data),B(e.data.list.entries),e.data.list.entries.map((function(e){return"documentLibrary"===e.entry.name?b.push("/document/".concat(e.entry.id)):null}))})).catch((function(e){console.log(e)}));var t}},"Document Library",document.folders," "),c.a.createElement("td",null,"admin"===t&&c.a.createElement(p,{show:u},c.a.createElement(g,{clicked:function(){return d(!1)}}),c.a.createElement(g,{clicked:function(){return d(!1)}}))&&c.a.createElement("div",null,c.a.createElement(k.a,{icon:A.o,onClick:function(){U.a.confirm().setting({transition:"pulse",buttonFocus:"ok",message:"DO YOU WANT TO DELETE THIS DEPARTMENT "+e.entry.title,onok:function(){var t;t=e.entry.id,m.a.delete(y()+"/alfresco/api/-default-/public/alfresco/versions/1/sites/".concat(t,"?permanent=false"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){alert("Department successfully deleted"),U.a.confirm().destroy(),Z(),console.log(e)})).catch((function(e){404===e.response.status&&alert("Department does not exist"),console.log(e)}))},oncancel:function(){U.a.confirm().destroy()}}).show()},className:"icon-item delete"}))))})))),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(z,{handlePrev:function(){m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/".concat(e,"maxItems=10&skipCount=").concat(W),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data),C(e.data.list.entries),h(e.data.list.pagination),Y(e.data.list.pagination.hasMoreItems),e.data.list.pagination.skipCount>0?K(e.data.list.pagination.skipCount-10):K(e.data.list.pagination.skipCount+10),console.log(e.data.list.entries),console.log(e.data.list.pagination),console.log(e.data.list.pagination.skipCount)}))},handleNext:function(){console.log(W),m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/".concat(e,"maxItems=10&skipCount=").concat(W),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data),C(e.data.list.entries),h(e.data.list.pagination),console.log(e.data.list.pagination),Y(e.data.list.pagination.hasMoreItems),e.data.list.pagination.hasMoreItems?K(e.data.list.pagination.skipCount+10):K(e.data.list.pagination.skipCount-10),console.log(e.data.list.entries),console.log(e.data.list.pagination.skipCount)}))},hasMoreItems:V,skipCount:W-10})))))},Y=(a(246),a(32)),q=function(e){return c.a.createElement(Y.a,{trigger:c.a.createElement("label",{id:"label"},"Action "),position:"bottom left",closeOnDocumentClick:!0},(function(t){return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(Y.a,{trigger:c.a.createElement("option",{id:"option"}," Delete All "),modal:!0,position:"bottom left"},c.a.createElement("span",null," ",c.a.createElement("h2",{className:"Dh2"},"Delete Documents"),c.a.createElement("p",{className:"content Dh3"},"Are you sure you want to delete All files?",c.a.createElement("br",null)," NOTE:The deleted file will be stored in trash for 30 days."),c.a.createElement("button",{className:"btn-cancel btn-c",onClick:function(){t()}},"CANCEL"),c.a.createElement("button",{className:"btn-continue btn-d",onClick:e.deleted},"DELETE")))),c.a.createElement("div",null,c.a.createElement(Y.a,{trigger:c.a.createElement("option",{id:"option"},"Delete Selected "),modal:!0,position:"top right"},c.a.createElement("span",null," ",c.a.createElement("h2",{className:"Dh2"},"Delete Documents"),c.a.createElement("p",{className:"content Dh3"},"Are you sure you want to Delete selected files?",c.a.createElement("br",null)," NOTE:The deleted file will be stored in trash for 30 days."),c.a.createElement("button",{className:"btn-cancel btn-c",onClick:function(){t()}},"CANCEL"),c.a.createElement("button",{className:"btn-continue btn-d",onClick:e.deleted},"DELETE")," "))),c.a.createElement("div",null,c.a.createElement(Y.a,{trigger:c.a.createElement("option",{id:"option"}," Restore All "),modal:!0,position:"top right"},(function(t){return c.a.createElement("span",null," ",c.a.createElement("h2",{className:"Dh2"},"Restore Documents"),c.a.createElement("p",{className:"content Dh3"},"Are you sure you want to Restore All files?"),c.a.createElement("button",{className:"btn-cancel btn-c",onClick:function(){t()}},"CANCEL"),c.a.createElement("button",{className:"btn-continue btn-d",onClick:e.restored},"RESTORE")," ")}))),c.a.createElement("div",null,c.a.createElement(Y.a,{trigger:c.a.createElement("option",{id:"option"}," Restore Selected "),modal:!0,position:"top right"},c.a.createElement("span",null," ",c.a.createElement("h2",{className:"Dh2"},"Restore Documents"),c.a.createElement("p",{className:"content Dh3"},"Are you sure you want to Restore selected files?"),c.a.createElement("button",{className:"btn-cancel btn-c",onClick:function(){t()}},"CANCEL"),c.a.createElement("button",{className:"btn-continue btn-d",onClick:e.restored},"RESTORE")," ")))," ")}))};var G=function(e){var t=Object(n.useState)([]),a=Object(r.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(!1),s=Object(r.a)(i,2),u=s[0],d=s[1],E=Object(n.useState)(!1),b=Object(r.a)(E,2),g=b[0],v=b[1],N=Object(n.useState)(1),j=Object(r.a)(N,2),S=j[0],C=(j[1],Object(n.useState)(10)),I=Object(r.a)(C,1)[0],w=Object(n.useState)([]),B=Object(r.a)(w,2),T=(B[0],B[1]),D=Object(n.useState)(""),F=Object(r.a)(D,2),_=F[0],R=(F[1],Object(n.useState)("")),P=Object(r.a)(R,2),L=P[0],U=P[1],H=Object(n.useState)(""),V=Object(r.a)(H,2),Y=V[0],G=V[1],W=Object(n.useState)(""),K=Object(r.a)(W,2);K[0],K[1],Object(n.useEffect)((function(){J()}),[]);var J=function(){m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/deleted-nodes?skipCount=0&maxItems=50",{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){var t=e.data;console.log(t),T(e.data.list.pagination),U(e.data.list.pagination.skipCount+10),o(e.data.list.entries.map((function(e){return{select:!1,id:e.entry.id,name:e.entry.name,createdOn:e.entry.createdAt.split("T")[0],archivedAt:e.entry.archivedAt.split("T")[0],type:e.entry.isFile}})))})).catch((function(e){return alert(e)}))},Q=S*I,X=Q-I,Z=l.slice(X,Q),$=function(){return d(!1),v(!1)},ee=function(){l.forEach((function(e){e.select&&m.a.delete(y()+"/alfresco/s/api/archive/archive/SpacesStore/".concat(e.id),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data),$(),J()})).catch((function(e){return alert(e)}))}))},te=function(){l.forEach((function(e){e.select&&m.a.put(y()+"/alfresco/s/api/archive/archive/SpacesStore/".concat(e.id),{},{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data),$(),J()})).catch((function(e){return alert(e)}))}))};return c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"second_section"},c.a.createElement("div",{className:"title"},c.a.createElement("h2",null,"Trash"),c.a.createElement(x,null)),c.a.createElement("div",{className:"search-profile"},c.a.createElement(M,null)),c.a.createElement("div",{className:"filesUpload"},c.a.createElement("table",{id:"doc_list"},c.a.createElement("tbody",null,c.a.createElement("tr",{id:"icons"},c.a.createElement("th",{id:"icon01"},c.a.createElement("input",{type:"checkbox",onChange:function(e){var t=e.target.checked;o(l.map((function(e){return e.select=t,e})))}})),c.a.createElement("th",{id:"item_name"},"Item Name"),c.a.createElement("th",{id:"created"},"Created on"),c.a.createElement("th",{id:"deleted"},"Deleted on"),c.a.createElement("th",{id:"action-trash"},c.a.createElement(q,{restored:function(){te()},deleted:function(){ee()}})),c.a.createElement(p,{show:g},c.a.createElement(f,{deleted:function(){ee()},clicked:function(){v(!1)}})),c.a.createElement(p,{show:u},c.a.createElement(h,{deleted:function(){te()},clicked:function(){return d(!1)}}))),Z.map((function(e,t){return c.a.createElement("tr",{key:e.id,id:"first_details"},c.a.createElement("td",{className:"file_icon1"},c.a.createElement("input",{onChange:function(t){var a=t.target.checked;o(l.map((function(t){return e.id===t.id&&(t.select=a),t})))},type:"checkbox",checked:e.select})," "),c.a.createElement("td",{className:"file_name-u"},c.a.createElement(k.a,{className:"pdf-file fas fa-file-pdf",icon:e.type?A.b:A.e}),e.name),c.a.createElement("td",{className:"created_t"},e.createdOn),c.a.createElement("td",{className:"deleted_t"},e.archivedAt),c.a.createElement("td",{className:"delete-icon"},c.a.createElement(k.a,{icon:A.n,className:"TrashIcon",onClick:function(t){var a;window.confirm("Are you sure you wish to delete ".concat(e.name))&&(a=e.id,m.a.delete(y()+"/alfresco/s/api/archive/archive/SpacesStore/".concat(a),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e),J()})).catch((function(e){return alert(e)})))}}),c.a.createElement(k.a,{icon:A.p,className:"UndoIcon",onClick:function(t){var a;window.confirm("Are you sure you wish to restore ".concat(e.name))&&(a=e.id,m.a.put(y()+"/alfresco/s/api/archive/archive/SpacesStore/".concat(a),{},{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e),J()})).catch((function(e){return alert(e)})))}})))})))))),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(z,{handlePrev:function(){document.getElementById("myBtn").disabled=!1,m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/deleted-nodes?skipCount=".concat(L,"&maxItems=10"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){o(e.data.list.entries.map((function(e){return{select:!1,id:e.entry.id,name:e.entry.name,createdOn:e.entry.createdAt.split("T")[0],archivedAt:e.entry.archivedAt.split("T")[0]}}))),G(e.data.list.pagination.count),e.data.list.pagination.skipCount>0?(U(e.data.list.pagination.skipCount-10),document.getElementById("myprevBtn").disabled=!1):document.getElementById("myprevBtn").disabled=!0,console.log(e.data.list.pagination.skipCount)}))},handleNext:function(){document.getElementById("myprevBtn").disabled=!1,console.log(L),m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/deleted-nodes?skipCount=".concat(L,"&maxItems=10"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data),o(e.data.list.entries.map((function(e){return{select:!1,id:e.entry.id,name:e.entry.name,createdOn:e.entry.createdAt.split("T")[0],archivedAt:e.entry.archivedAt.split("T")[0]}}))),G(e.data.list.pagination.count),U(e.data.list.pagination.skipCount+10),0===e.data.list.entries.length&&(document.getElementById("myBtn").disabled=!0)}))},hasMoreItems:_,skipCount:L,Count:Y})))},W=a(155);a(247);var K=function(){var e=Object(s.f)(),t=Object(n.useState)([]),a=Object(r.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)([]),u=Object(r.a)(i,2),d=u[0],E=u[1],p=Object(n.useState)(1),f=Object(r.a)(p,2),h=f[0],b=(f[1],Object(n.useState)(10)),g=Object(r.a)(b,1)[0],v=Object(n.useState)(""),N=Object(r.a)(v,2),j=N[0],S=N[1],C=Object(n.useState)(""),I=Object(r.a)(C,2),w=I[0],B=I[1];Object(n.useEffect)((function(){T()}),[]);var T=function(){m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/shared-links?skipCount=0&maxItems=10&include=properties",{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){o(e.data.list.entries),console.log(e.data),e.data.list.entries.forEach((function(e){m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(e.entry.nodeId,"?include=properties"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log("received"),console.log(e.data),E((function(t){return[].concat(Object(W.a)(t),[{entry:{EFFECTIVEFROM:e.data.entry.properties["cm:from"],EFFECTIVETO:e.data.entry.properties["cm:to"],NAME:e.data.entry.name}}])})),console.log(d)})).catch((function(e){return console.log(e)}))}))}))};console.log(d);var D=h*g,F=D-g;return l.slice(F,D),c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"second_section"},c.a.createElement("div",{className:"title"},c.a.createElement("h2",null,"Manage Shares"),c.a.createElement(x,null)),c.a.createElement("div",{className:"search-profile"},c.a.createElement(M,null)),c.a.createElement("div",{className:"filesShared"},c.a.createElement("table",{id:"doc_list"},c.a.createElement("thead",null,c.a.createElement("tr",{id:"icons"},c.a.createElement("th",{id:"item-names"},"Item Name"),c.a.createElement("th",{id:"shared"},"Effective From"),c.a.createElement("th",{id:"shared"},"Effective To"),c.a.createElement("th",{id:"action"},"Action"))),l.map((function(t){return c.a.createElement("tbody",{key:t.entry.nodeId},c.a.createElement("tr",{id:"first_details"},c.a.createElement("td",{className:"file_name-u",onClick:function(){return a=t.entry.nodeId,n=t.entry.name,void e.push("/document-details/".concat(a,"/").concat(n));var a,n}},c.a.createElement(k.a,{className:"pdf-file fas fa-file-pdf",icon:A.d}),t.entry.name),d.map((function(e){return t.entry.name===e.entry.NAME?c.a.createElement("td",{className:"details-u-s",key:e.entry.NAME},e.entry.EFFECTIVEFROM?e.entry.EFFECTIVEFROM.split("T")[0]:null):null})),d.map((function(e){return t.entry.name===e.entry.NAME?c.a.createElement("td",{className:"details-u-s",key:e.entry.NAME},e.entry.EFFECTIVETO?e.entry.EFFECTIVETO.split("T")[0]:null):null})),c.a.createElement("td",{className:"delete-u-s"},c.a.createElement(k.a,{className:"fas fa-times-circle",icon:A.m,onClick:function(){U.a.confirm().setting({transition:"pulse",buttonFocus:"ok",message:"DO YOU WANT TO UNSHARE THIS FILE "+t.entry.name,onok:function(){var e;e=t.entry.id,m.a.delete(y()+"/alfresco/api/-default-/public/alfresco/versions/1/shared-links/".concat(e),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){U.a.confirm().destroy(),alert("unshared"),console.log(e)})).catch((function(e){404===e.response.status&&alert("Something went wrong!!"),console.log(e)}))},oncancel:function(){U.a.confirm().destroy()}}).show()}}))))}))))),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(z,{handlePrev:function(){m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/shared-links?&include=properties&maxItems=10&skipCount=".concat(w),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){S(e.data.list.pagination.hasMoreItems),e.data.list.pagination.skipCount>0?B(e.data.list.pagination.skipCount-10):B(e.data.list.pagination.skipCount+10)}))},handleNext:function(){console.log(w),m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/shared-links?&maxItems=10&skipCount=".concat(w,"&include=properties"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data),S(e.data.list.pagination.hasMoreItems),e.data.list.pagination.hasMoreItems?B(e.data.list.pagination.skipCount+10):B(e.data.list.pagination.skipCount-10)}))},hasMoreItems:j,skipCount:w-10})))};a(248);var J=function(e){var t=Object(n.useState)(e),a=Object(r.a)(t,2),c=a[0],l=a[1];return{value:c,onChange:function(e){l(e.target.value)}}},Q=function(e){var t=v(),a=t[0].toUpperCase()+t.slice(1),l=J(""),o=J(""),i=J("");return c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"second_section"},c.a.createElement("div",{className:"title"},c.a.createElement("h2",null,"CHANGE PASSWORD"),c.a.createElement(x,null)),c.a.createElement("div",{className:"search-profile"},c.a.createElement(M,null)),c.a.createElement("div",{id:"share-details-n"},c.a.createElement("div",{id:"column-1"},c.a.createElement("p",null,"Enter Old Password"),c.a.createElement("p",null,"Enter New Password"),c.a.createElement("p",null,"Confirm Password")),c.a.createElement("div",{id:"column-2"},c.a.createElement("input",Object.assign({type:"password"},l)),c.a.createElement("input",Object.assign({type:"password"},o)),c.a.createElement("input",Object.assign({type:"password"},i))),c.a.createElement("button",{className:"btn01",type:"button",onClick:function(){o.value===i.value?m.a.post(y()+"/alfresco/service/api/person/changepassword/".concat(a),{newpw:o.value,oldpw:l.value},{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){alert("Password Successfully changed"),console.log(e)})).catch((function(e){401===e.response.status&&alert("Unauthenticated!! please enter correct password"),console.log(e)})):alert("Password does not match")}},"Change"),c.a.createElement("button",{className:"btn02",type:"button"},"Cancel"))))},X=function(){var e=Object(s.f)();return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return e.goBack()}},"Back"))};a(249);var Z=function(){var e=Object(s.f)(),t=Object(n.useState)([]),a=Object(r.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)([]),u=Object(r.a)(i,2),d=u[0],E=u[1],p=Object(s.g)().id,f=Object(n.useState)(1),h=Object(r.a)(f,2),b=h[0],g=h[1],v=Object(n.useState)(10),N=Object(r.a)(v,1)[0],j=b*N,S=j-N,C=l.slice(S,j);Object(n.useEffect)((function(){I()}),[p]);var I=function(){m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(p,"/children?skipCount=0"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data),o(e.data.list.entries),E(e.data.list.pagination),console.log(e.data.list.pagination)}))};return c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"second_section"},c.a.createElement("div",{className:"title"},c.a.createElement("h2",null,"Document Library"),c.a.createElement(x,null)),c.a.createElement("div",{className:"search-profile"},c.a.createElement(M,null)),c.a.createElement("div",{className:"filesShared"},c.a.createElement("table",{id:"doc_list"},c.a.createElement("thead",null,c.a.createElement("tr",{id:"icons"},c.a.createElement("th",{id:"item-names"},"Item Name"),c.a.createElement("th",{id:"shared"},"Created By"),c.a.createElement("th",{id:"shared"},"Created On"),c.a.createElement("th",{id:"shared"},"Modified On"),c.a.createElement("th",null,"Actions"),c.a.createElement("th",{id:"action"},c.a.createElement(X,null)))),C.map((function(t){return c.a.createElement("tbody",{key:t.entry.id},c.a.createElement("tr",{id:"first_details"},c.a.createElement("td",{className:"file_name-u",onClick:function(){return function(t,a,n){t?e.push("/document-details/".concat(a,"/").concat(n)):e.push("/document/".concat(a))}(t.entry.isFile,t.entry.id,t.entry.name)}},c.a.createElement(k.a,{className:"pdf-file fas fa-file-pdf",icon:t.entry.isFile?A.b:A.e}),t.entry.name),c.a.createElement("td",{className:"details-u-s"},t.entry.createdByUser.displayName),c.a.createElement("td",{className:"details-u-s"},t.entry.createdAt.split("T")[0]),c.a.createElement("td",{className:"details-u-s"},t.entry.modifiedAt.split("T")[0]),c.a.createElement("td",{className:"delete-u-s"},c.a.createElement(k.a,{className:"fas fa-times-circle",icon:A.m,onClick:function(){U.a.confirm().setting({transition:"pulse",buttonFocus:"ok",message:"DO YOU WANT TO DELETE THIS FILE "+t.entry.name,onok:function(){!function(e,t){m.a.delete(y()+"/alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(e),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e),U.a.confirm().destroy(),I()})).catch((function(e){return alert(e)}))}(t.entry.id)},oncancel:function(){U.a.confirm().destroy()}}).show()}}))))}))))),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(z,{postsPerPage:N,totalPosts:d.count,paginate:function(e){return g(e)}})))};a(137);var $=function(){var e=Object(s.f)(),t=Object(s.g)(),a=Object(n.useState)([]),l=Object(r.a)(a,2),o=l[0],i=l[1],u=t.title,d=window.location.href.slice(32,68);return console.log(d),Object(n.useEffect)((function(){m.a.get(y()+"/alfresco/s/ev/nodeaudittrail?nodeRef=workspace://SpacesStore/".concat(d),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){var t=e.data;console.log(t),i(t.data.map((function(e){return{timeF:e.time.split("T")[0],actionF:e.method,userF:e.userName.split(".")[0]}})))}))}),[]),c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"modal-header"},c.a.createElement("h2",null,u),c.a.createElement("button",{onClick:function(){return e.goBack()}},"Back")),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h3",null,"Detailed Document Audit History"),c.a.createElement("table",null,c.a.createElement("tbody",{className:"label-input"},c.a.createElement("th",{className:"actions"},"Action "),c.a.createElement("th",{className:"users"},"User"),c.a.createElement("th",{className:"time"},"Time"),o.map((function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.actionF),c.a.createElement("td",null,e.userF),c.a.createElement("td",null,e.timeF))})))))))},ee=function(e){var t=Object(n.useState)([]),a=Object(r.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)([]),u=Object(r.a)(i,2),d=u[0],E=u[1],p=Object(n.useState)([]),f=Object(r.a)(p,2),h=f[0],b=f[1],g=Object(n.useState)([]),v=Object(r.a)(g,2),N=v[0],j=v[1],S=Object(n.useState)([]),C=Object(r.a)(S,2),I=C[0],w=C[1],B=Object(n.useState)([]),T=Object(r.a)(B,2),D=T[0],F=T[1],M=Object(n.useState)([]),_=Object(r.a)(M,2),x=_[0],z=_[1],R=Object(s.f)(),P=(Object(s.g)().title,window.location.href.slice(41,77));Object(n.useEffect)((function(){m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(P),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data.entry),j(e.data.entry.modifiedAt.split("T")[0]),w(e.data.entry.nodeType.split(":")[1]),b(e.data.entry.content),o(e.data.entry.createdByUser.displayName),E(e.data.entry.createdAt.split("T")[0])}))}),[P]),Object(n.useEffect)((function(){m.a.get(y()+"/alfresco/s/ev/nodeaudittrail?nodeRef=workspace://SpacesStore/".concat(P),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){var t=e.data;console.log(t),z(t.data.slice(0,5).map((function(e){return{time:e.time.split("T")[0],action:e.method,user:e.userName.split(".")[0]}})))}))}),[P]);return Object(n.useEffect)((function(){m.a.get(y()+"/alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(P,"/versions"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){F(e.data.list.entries[0].entry.id)}))}),[P]),c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"pdf-preview"},c.a.createElement("div",{id:"details-pdf",className:"pdf_details"},c.a.createElement("div",{className:"details-p"},c.a.createElement("button",{onClick:function(){m.a.post(y()+"/alfresco/api/-default-/public/alfresco/versions/1/shared-links",{nodeId:"".concat(P)},{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){var t=e.data.entry.id;alert("Your public share link is https://systest.eisenvault.net/share/s/"+t)}))}},c.a.createElement(k.a,{className:"Icon",icon:A.k}),"Click here to share"),c.a.createElement("p",{className:"top-heaading"},"Document Type:",I," "),c.a.createElement("p",null,"Created By: ",l),c.a.createElement("p",null,"Created On: ",d),c.a.createElement("p",null,"Last Modified: ",N),c.a.createElement("p",null,"File Size: ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=["Bytes","KB","MB","GB","TB"];if(0===e)return"n/a";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return 0===n?"".concat(e).concat(t).concat(a[n]):"".concat((e/Math.pow(1024,n)).toFixed(1)).concat(t).concat(a[n])}(h.sizeInBytes)),c.a.createElement("p",null,"Activities:"),x.map((function(e){return c.a.createElement("p",null," ",e.action," by ",e.user," on ",e.time)})),c.a.createElement("p",null," ",c.a.createElement("button",{id:"audit-trail",onClick:function(){R.push("/actions/".concat(P,"/AuditTrails"))}},"(click to view detailed history)")),c.a.createElement("p",null,"Current Version: ",D)))))},te=(a(250),a(153));function ae(e){var t=e.label,a=e.onClick;return c.a.createElement("button",{className:"toggle",onClick:a},t)}function ne(e){var t=e.visible,a=e.children,l=Object(n.useState)(!t),o=Object(r.a)(l,2),i=o[0],s=o[1];Object(n.useEffect)((function(){t?s(!1):setTimeout((function(){return s(!0)}),650)}),[t]);var u=i?{display:"none"}:null;return c.a.createElement(te.Animated,{isVisible:t,style:u},a)}function ce(e){var t=e.open;return c.a.createElement(ne,{visible:t,className:"on-top"},c.a.createElement("div",{className:"sidebar"},c.a.createElement("ul",null,c.a.createElement("li",null,ee()))))}var le=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),i=Object(r.a)(o,2),u=i[0],d=i[1],E=Object(n.useState)(!1),p=Object(r.a)(E,2),f=p[0],h=p[1],b="https://cors-anywhere.herokuapp.com/",g=Object(s.g)().title,v=window.location.href;console.log(v);var N=v.slice(41,77),j=v.split(".").pop();console.log(j),Object(n.useEffect)((function(){m.a.get(b+y()+"/alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(N,"/content"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){l(y()+"alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(N,"/content"))}))}),[N]),Object(n.useEffect)((function(){m.a.get(b+y()+"/alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(N,"/content?attachment=false"),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){d(y()+"/alfresco/api/-default-/public/alfresco/versions/1/nodes/".concat(N,"/content?attachment=false"))}))}),[N]);var k=function(){return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"docFrame"},c.a.createElement("iframe",{src:u,title:"myframe",id:"myFrame",width:"730rem",height:"500rem",marginWidth:"1rem",allowFullScreen:!0})))};function S(){return"pdf"===j||"png"===j?k():function(){var e=O(),t="https://view.officeapps.live.com/op/embed.aspx?src="+a+"?alf_ticket="+e;return console.log(t),console.log(a),console.log(e),c.a.createElement(n.Fragment,null,c.a.createElement("iframe",{src:t,title:"mydocframe",id:"mydocFrame",width:"730rem",height:"500rem"}))}()}return c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"second_section"},c.a.createElement("div",{className:"title"},c.a.createElement("h2",null,g),c.a.createElement(x,null)),c.a.createElement("div",{className:"search-profile"},c.a.createElement(M,null)),c.a.createElement("div",{className:"buttons"},c.a.createElement("div",{className:"back-button"},c.a.createElement(X,null)),c.a.createElement("div",{className:"details"},c.a.createElement(ae,{label:"More Details",isOpen:f,onClick:function(){h(!f)}}),c.a.createElement(ce,{open:f}))),c.a.createElement(S,null)))};var oe=function(){var e=Object(s.f)(),t=Object(n.useState)([]),a=Object(r.a)(t,2),l=a[0],o=a[1],i=Object(s.g)().result;return Object(n.useEffect)((function(){m.a.get(y()+"/alfresco/s/slingshot/search?term=".concat(i),{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){console.log(e.data),o(e.data.items)})).catch((function(e){console.log(e)}))}),[i]),c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"second_section"},c.a.createElement("h2",null,"SearchResult"),c.a.createElement("div",{className:"filesShared"},c.a.createElement("table",{id:"doc_list"},c.a.createElement("thead",null,c.a.createElement("tr",{id:"icons"},c.a.createElement("th",{id:"item-names"},"Item Name"),c.a.createElement("th",{id:"shared"},"Department Name"),c.a.createElement("th",null,"Actions"),c.a.createElement("th",{id:"action"},c.a.createElement(X,null)))),l.map((function(t){return c.a.createElement("tbody",{key:t.nodeRef},c.a.createElement("tr",{id:"first_details"},c.a.createElement("td",{className:"file_name-u",onClick:function(){return a=t.nodeRef.substring(24),n=t.name,void e.push("/document-details/".concat(a,"/").concat(n));var a,n}},c.a.createElement(k.a,{className:"pdf-file fas fa-file-pdf",icon:"document"===t.type?A.b:A.e}),t.name),c.a.createElement("td",{className:"details-u-s"},t.path),c.a.createElement("td",{className:"delete-u-s"},c.a.createElement(k.a,{className:"fas fa-times-circle",icon:A.m}))))}))))),c.a.createElement("div",{className:"col-md-6"}))},ie=a(156);var re=function(e){var t=e.component,a=Object(ie.a)(e,["component"]);return c.a.createElement(s.b,Object.assign({},a,{render:function(e){return O()?c.a.createElement(t,e):c.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))},se=Object(s.h)((function(e,t){var a=e.location,l=Object(n.useState)(!0),o=Object(r.a)(l,2),i=o[0],u=o[1],d=Object(n.useState)(!1),p=Object(r.a)(d,2),f=p[0],h=p[1];if(Object(n.useEffect)((function(){O()})),m.a.get(y()+"alfresco/api/-default-/public/authentication/versions/1/tickets/-me-",{headers:{Authorization:"Basic ".concat(btoa(O()))}}).then((function(e){u(!1)})).catch((function(e){localStorage.removeItem("id"),localStorage.removeItem("userId"),u(!1)}),[]),i&&O())return c.a.createElement("div",{className:"content"},"Checking Authentication...");var b,g=function(){h(!1)};return f&&(b=c.a.createElement(E,{click:g,show:!0})),c.a.createElement(n.Fragment,null,c.a.createElement(s.b,{exact:!0,path:"/",component:j}),c.a.createElement("div",null,"/"!==a.pathname?b:null,"/"!==a.pathname&&c.a.createElement(w,{show:f,click:g}),b,"/"!==a.pathname&&c.a.createElement(B,{drawertoggleHandler:function(){h((function(e){return{sideDrawerOpen:!e.sideDrawerOpen}}))}})),c.a.createElement("div",{className:"main_body"},"/"!==a.pathname&&c.a.createElement(I,null),c.a.createElement("div",null,c.a.createElement(re,{path:"/dashboard",component:P}),c.a.createElement(re,{path:"/documentsList",component:V}),c.a.createElement(re,{path:"/myUploads",component:R}),c.a.createElement(re,{path:"/trashDisplay",component:G}),c.a.createElement(re,{path:"/manageShares",component:K}),c.a.createElement(re,{path:"/changePassword",component:Q}),c.a.createElement(re,{path:"/document/:id",component:Z}),c.a.createElement(re,{path:"/actions/:id/AuditTrails",component:$}),c.a.createElement(re,{path:"/doc/:id/:name",component:le}),c.a.createElement(re,{path:"/search/:result",component:oe}),c.a.createElement(re,{path:"/document-details/:id/:title",component:le}),"/"!==a.pathname&&c.a.createElement(T,null))))})),ue=function(){return c.a.createElement(n.Fragment,null,c.a.createElement(i.a,null,c.a.createElement(se,null)))},me=document.getElementById("root");o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ue,null)),me)},41:function(e,t,a){}},[[157,1,2]]]);
//# sourceMappingURL=main.af777975.chunk.js.map